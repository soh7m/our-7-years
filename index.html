<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wait a minute...</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&display=swap" rel="stylesheet">
    <style>
    body {
        font-family: 'Montserrat', sans-serif;
        background-color: #ffe3e8;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden; 
    }
    
    .container {
        text-align: center;
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        max-width: 400px;
        width: 90%;
    }

    img {
        max-width: 200px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    h1 {
        color: #ff4d6d;
        font-size: 1.5rem;
        margin-bottom: 30px;
    }

    .btn-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px; /* This creates space between the buttons */
        position: relative; 
        height: 60px; /* Fixed height to prevent jumping */
    }

    .btn {
        padding: 10px 30px;
        font-size: 1.2rem;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        transition: transform 0.2s;
        /* Important: Both buttons are now standard/static by default */
        position: relative; 
        z-index: 10;
    }

    .yes-btn {
        background-color: #2ecc71;
        color: white;
    }

    .no-btn {
        background-color: #e74c3c;
        color: white;
        /* Start with a slow, smooth slide (0.6 seconds) */
        transition: all 0.2s ease; 
        position: relative; /* Ensure it starts in the flow */
    }
</style>
</head>
<body>

    <div class="container">
        <img id="reaction-img" src="images/cute.gif" alt="Reaction">
        
        <h1 id="question-text">Are you ready to see your gift?</h1>
        
        <div class="btn-container">
            <button class="btn yes-btn" onclick="nextQuestion()">Yes</button>
            <button class="btn no-btn" id="noBtn" onclick="handleNoClick()" onmouseover="moveButton()">No</button>
        </div>
    </div>

    <script>
    var questionIndex = 0;
    var noBtn = document.getElementById("noBtn");
    var questionText = document.getElementById("question-text");
    var img = document.getElementById("reaction-img");
    
    var noMessages = [
        "You can't say no to this one! ðŸ˜‰",
        "C'mon you gotta see it! ðŸ¥º",
        "Don't be shy! ðŸ˜³",
        "Don't break my heart! ðŸ’”",
        "I'm going to cry...ðŸ˜­",
        "Just click Yes already! ðŸ˜¤",
        "I will not take your money away ðŸ˜",
        "Click on the Yes, please! ðŸ˜­",
        "Be a good Puchke c'mon! ðŸ˜˜"
    ];
    var messageIndex = 0;

    var questions = [
        "Are you ready to see your gift?",
        "Are you excited to see it? ðŸ¤­",
        "But wait... do you love me? ðŸ¤¨ Don't say no! ðŸ˜”" 
    ];

    var images = [
        "images/cute.gif",     
        "images/shocked.gif",   
        "images/happy.gif"      
    ];

    // Track if the button has started moving yet
    var hasMoved = false;

    function handleNoClick() {
        if (questionIndex === 2) {
            // Usually unclickable, but just in case
            alert("You can't say no to this one! ðŸ˜‰");
            return;
        }

        alert(noMessages[messageIndex]);
        messageIndex++;
        if (messageIndex >= noMessages.length) messageIndex = 0;
    }

    function nextQuestion() {
        questionIndex++;
        
        if (questionIndex >= questions.length) {
            window.location.href = "memories.html"; 
            return;
        }

        questionText.innerText = questions[questionIndex];
        img.src = images[questionIndex];
        
        // Reset button to original state for the new question
        noBtn.style.position = "relative";
        noBtn.style.top = "auto";
        noBtn.style.left = "auto";
        noBtn.style.transform = "none";
        hasMoved = false; // Reset the movement logic
    }

    function moveButton() {
        // Only run on the final question
        if (questionIndex === 2) {
            
            // 1. GET SCREEN DIMENSIONS
            var x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            var y = Math.random() * (window.innerHeight - noBtn.offsetHeight);

            // 2. LOGIC FOR THE SMOOTH START
            if (!hasMoved) {
                // Step A: Capture the EXACT current position
                var rect = noBtn.getBoundingClientRect();
                
                // Step B: Set to 'fixed' at that exact spot (prevents jumping)
                noBtn.style.position = "fixed";
                noBtn.style.left = rect.left + "px";
                noBtn.style.top = rect.top + "px";
                
                // Step C: Small delay to let the browser process the 'fixed' change
                // before we tell it to move to the new spot.
                setTimeout(function() {
                    noBtn.style.left = x + "px";
                    noBtn.style.top = y + "px";
                }, 10);
                
                hasMoved = true;
            } else {
                // Subsequent moves: Just go to the new coordinates
                noBtn.style.left = x + "px";
                noBtn.style.top = y + "px";
            }
        }
    }
</script>
</body>
</html>